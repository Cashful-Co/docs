{
  "openapi": "3.0.0",
  "paths": {
    "/api/canary/health": {
      "get": {
        "description": "Performs a health check on the application and external dependencies",
        "operationId": "checkHealth",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Application and all dependencies are healthy",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "status": "ok",
                    "info": {
                      "cashful-api": {
                        "status": "up"
                      },
                      "database": {
                        "status": "up"
                      }
                    },
                    "error": {},
                    "details": {
                      "cashful-api": {
                        "status": "up"
                      },
                      "database": {
                        "status": "up"
                      }
                    }
                  }
                }
              }
            }
          },
          "503": {
            "description": "One or more health checks failed",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "status": "error",
                    "error": {
                      "database": {
                        "status": "down",
                        "message": "Database connection failed"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Health check endpoint",
        "tags": [
          "Health"
        ]
      }
    },
    "/api/canary/authentication/sign-up/email": {
      "post": {
        "description": "Create a new user account using email and password",
        "operationId": "signUpEmail",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignUpDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User created successfully"
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "summary": "Sign up with email",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/sign-in/email": {
      "post": {
        "description": "Authenticate a user using email and password",
        "operationId": "signInEmail",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignInDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User signed in successfully"
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "summary": "Sign in with email",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/sign-out": {
      "post": {
        "description": "Sign out the current user and invalidate the session",
        "operationId": "signOut",
        "parameters": [],
        "responses": {
          "200": {
            "description": "User signed out successfully"
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Sign out",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/get-session": {
      "get": {
        "description": "Retrieve the current user session",
        "operationId": "getSession",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Session retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetSessionResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get Session",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/forget-password": {
      "post": {
        "description": "Send a password reset email to the user",
        "operationId": "forgetPassword",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForgotPasswordDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password reset email sent"
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "summary": "Forget Password",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/reset-password": {
      "post": {
        "description": "Reset the user's password using a token",
        "operationId": "resetPassword",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password reset successfully"
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "summary": "Reset Password",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/organization/create": {
      "post": {
        "description": "Create a new organization",
        "operationId": "createOrganization",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateOrganizationDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Organization created successfully"
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create Organization",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/organization/list": {
      "get": {
        "description": "List all organizations for the current user",
        "operationId": "listOrganizations",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Organizations listed successfully"
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "List Organizations",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/organization/set-active": {
      "post": {
        "description": "Set the active organization for the current session",
        "operationId": "setActiveOrganization",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetActiveOrganizationDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Active organization set successfully"
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Set Active Organization",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/organization/update": {
      "post": {
        "description": "Update an organization's details",
        "operationId": "updateOrganization",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateOrganizationDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Organization updated successfully"
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update Organization",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/organization/delete": {
      "post": {
        "description": "Delete an organization",
        "operationId": "deleteOrganization",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeleteOrganizationDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Organization deleted successfully"
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete Organization",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/organization/invite-member": {
      "post": {
        "description": "Invite a user to an organization",
        "operationId": "inviteMember",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InviteMemberDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Member invited successfully"
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Invite Member",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/organization/accept-invitation": {
      "post": {
        "description": "Accept an invitation to an organization",
        "operationId": "acceptInvitation",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AcceptInvitationDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Invitation accepted successfully"
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Accept Invitation",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/organization/cancel-invitation": {
      "post": {
        "description": "Cancel an invitation to an organization",
        "operationId": "cancelInvitation",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CancelInvitationDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Invitation cancelled successfully"
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Cancel Invitation",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/organization/reject-invitation": {
      "post": {
        "description": "Reject an invitation to an organization",
        "operationId": "rejectInvitation",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RejectInvitationDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Invitation rejected successfully"
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Reject Invitation",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/organization/remove-member": {
      "post": {
        "description": "Remove a member from an organization",
        "operationId": "removeMember",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RemoveMemberDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Member removed successfully"
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Remove Member",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/organization/update-member-role": {
      "post": {
        "description": "Update a member's role in an organization",
        "operationId": "updateMemberRole",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMemberRoleDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Member role updated successfully"
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update Member Role",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/api-key/create": {
      "post": {
        "description": "Create a new API key",
        "operationId": "createApiKey",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateApiKeyDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "API key created successfully"
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create API Key",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/api-key/list": {
      "get": {
        "description": "List all API keys for the current user",
        "operationId": "listApiKeys",
        "parameters": [],
        "responses": {
          "200": {
            "description": "API keys listed successfully"
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "List API Keys",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/api-key/update": {
      "post": {
        "description": "Update an API key",
        "operationId": "updateApiKey",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateApiKeyDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "API key updated successfully"
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update API Key",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/api-key/delete": {
      "post": {
        "description": "Delete an API key",
        "operationId": "deleteApiKey",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeleteApiKeyDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "API key deleted successfully"
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete API Key",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/authentication/api-key/verify": {
      "post": {
        "description": "Verify an API key",
        "operationId": "verifyApiKey",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VerifyApiKeyDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "API key verified successfully"
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "summary": "Verify API Key",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/canary/checkout/sessions": {
      "post": {
        "description": "Creates a hosted payment page. Used for: (1) A standard e-commerce purchase, or (2) a \"Pay-In\" to fund a CustomerBalance.",
        "operationId": "createCheckoutSession",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Checkout session details",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCheckoutSessionDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Checkout session created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CheckoutSessionResponseDto"
                },
                "example": {
                  "id": "checkout_sess_123",
                  "merchantId": "merchant_456",
                  "customerId": "customer_789",
                  "sessionUrl": "https://pay.cashful.africa/?op=checkout&sessionId=checkout_sess_123",
                  "successUrl": "https://example.com/success",
                  "cancelUrl": "https://example.com/cancel",
                  "lineItems": [
                    {
                      "productId": "product_001",
                      "quantity": 2,
                      "amount": 5000,
                      "currency": "ZAR"
                    },
                    {
                      "productId": "product_002",
                      "quantity": 1,
                      "amount": 3000,
                      "currency": "ZAR"
                    }
                  ],
                  "totalAmount": 13000,
                  "currency": "ZAR",
                  "mode": "payment",
                  "status": "active",
                  "expiresAt": "2025-01-17T10:30:00.000Z",
                  "createdAt": "2025-01-15T10:30:00.000Z",
                  "updatedAt": "2025-01-15T10:30:00.000Z"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create Hosted Checkout",
        "tags": [
          "Checkouts"
        ]
      }
    },
    "/api/canary/balance": {
      "get": {
        "description": "Retrieves the merchant's own master balance (their earnings) available for payouts.",
        "operationId": "getMerchantBalance",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully retrieved merchant balance",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MerchantBalanceResponseDto"
                },
                "example": {
                  "id": "balance_merchant_456",
                  "merchantId": "merchant_456",
                  "amount": 50000,
                  "currency": "ZAR",
                  "available": 50000,
                  "pending": 0,
                  "createdAt": "2025-01-15T10:30:00.000Z",
                  "updatedAt": "2025-01-15T10:30:00.000Z"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get Merchant Balance",
        "tags": [
          "Balance"
        ]
      }
    },
    "/api/canary/balance/history": {
      "get": {
        "description": "A full ledger of all transactions, fees, and payouts for the merchant's master account.",
        "operationId": "getBalanceHistory",
        "parameters": [
          {
            "name": "transactionType",
            "required": false,
            "in": "query",
            "description": "Filter by transaction type (e.g., \"credit\", \"debit\", \"fee\", \"payout\")",
            "schema": {}
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "description": "Filter transactions until this date (ISO 8601 format)",
            "schema": {}
          },
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "description": "Filter transactions from this date (ISO 8601 format)",
            "schema": {}
          },
          {
            "name": "merchantId",
            "required": true,
            "in": "query",
            "description": "The ID of the merchant. This parameter is required.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Maximum number of records to return",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "description": "Number of records to skip",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved balance history",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BalanceHistoryResponseDto"
                },
                "example": {
                  "data": [
                    {
                      "id": "txn_001",
                      "merchantId": "merchant_456",
                      "type": "credit",
                      "amount": 10000,
                      "currency": "ZAR",
                      "description": "Checkout session completed",
                      "relatedEntityId": "checkout_789",
                      "relatedEntityType": "CheckoutSession",
                      "balanceAfter": 50000,
                      "createdAt": "2025-01-15T10:30:00.000Z",
                      "updatedAt": "2025-01-15T10:30:00.000Z"
                    },
                    {
                      "id": "txn_002",
                      "merchantId": "merchant_456",
                      "type": "fee",
                      "amount": -500,
                      "currency": "ZAR",
                      "description": "Platform fee",
                      "relatedEntityId": "checkout_789",
                      "relatedEntityType": "CheckoutSession",
                      "balanceAfter": 49500,
                      "createdAt": "2025-01-15T10:30:05.000Z",
                      "updatedAt": "2025-01-15T10:30:05.000Z"
                    },
                    {
                      "id": "txn_003",
                      "merchantId": "merchant_456",
                      "type": "payout",
                      "amount": -20000,
                      "currency": "ZAR",
                      "description": "Payout to bank account",
                      "relatedEntityId": "payout_001",
                      "relatedEntityType": "Payout",
                      "balanceAfter": 29500,
                      "createdAt": "2025-01-14T15:00:00.000Z",
                      "updatedAt": "2025-01-14T15:00:00.000Z"
                    }
                  ],
                  "pagination": {
                    "limit": 50,
                    "offset": 0,
                    "total": 150,
                    "hasMore": true
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "List Merchant Balance History",
        "tags": [
          "Balance"
        ]
      }
    },
    "/api/canary/customers": {
      "post": {
        "description": "Creates a new customer object. This also provisions their \"cash balance\" feature (starting at 0).",
        "operationId": "createCustomer",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Customer details",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCustomerDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Customer created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CustomerResponseDto"
                },
                "example": {
                  "id": "customer_789",
                  "merchantId": "merchant_456",
                  "email": "john.doe@example.com",
                  "name": "John Doe",
                  "metadata": {
                    "source": "web",
                    "referralCode": "FRIEND123"
                  },
                  "createdAt": "2025-01-15T10:30:00.000Z",
                  "updatedAt": "2025-01-15T10:30:00.000Z"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "409": {
            "description": "Customer with this email already exists"
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create Customer",
        "tags": [
          "Customers"
        ]
      },
      "get": {
        "description": "Retrieves a paginated list of all customers for the merchant.",
        "operationId": "listCustomers",
        "parameters": [
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Search across customer fields",
            "schema": {}
          },
          {
            "name": "email",
            "required": false,
            "in": "query",
            "description": "Filter by email address",
            "schema": {}
          },
          {
            "name": "merchantId",
            "required": true,
            "in": "query",
            "description": "The ID of the merchant. This parameter is required.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Maximum number of records to return",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "description": "Number of records to skip",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved customers list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListCustomersResponseDto"
                },
                "example": {
                  "data": [
                    {
                      "id": "customer_789",
                      "merchantId": "merchant_456",
                      "email": "john.doe@example.com",
                      "name": "John Doe",
                      "metadata": {
                        "source": "web",
                        "referralCode": "FRIEND123"
                      },
                      "createdAt": "2025-01-15T10:30:00.000Z",
                      "updatedAt": "2025-01-15T10:30:00.000Z"
                    }
                  ],
                  "pagination": {
                    "limit": 50,
                    "offset": 0,
                    "total": 150,
                    "hasMore": true
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "List Customers",
        "tags": [
          "Customers"
        ]
      }
    },
    "/api/canary/customers/{id}": {
      "get": {
        "description": "Gets the details for a single customer.",
        "operationId": "retrieveCustomer",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The unique identifier of the customer",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved customer details",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "id": "customer_789",
                    "merchantId": "merchant_456",
                    "email": "john.doe@example.com",
                    "name": "John Doe",
                    "metadata": {
                      "source": "web",
                      "referralCode": "FRIEND123"
                    },
                    "createdAt": "2025-01-15T10:30:00.000Z",
                    "updatedAt": "2025-01-15T10:30:00.000Z"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Retrieve Customer",
        "tags": [
          "Customers"
        ]
      },
      "patch": {
        "description": "Updates a customer's details (e.g., email, metadata).",
        "operationId": "updateCustomer",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The unique identifier of the customer",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Customer update details",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCustomerDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Customer updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "id": "customer_789",
                    "merchantId": "merchant_456",
                    "email": "john.doe@example.com",
                    "name": "John Doe",
                    "metadata": {
                      "source": "web",
                      "referralCode": "FRIEND123"
                    },
                    "createdAt": "2025-01-15T10:30:00.000Z",
                    "updatedAt": "2025-01-15T10:30:00.000Z"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "409": {
            "description": "Email already in use by another customer"
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update Customer",
        "tags": [
          "Customers"
        ]
      }
    },
    "/api/canary/customers/{id}/balance": {
      "get": {
        "description": "Retrieves the real-time balance for a single customer's \"cash balance\" (the \"wallet-enabling\" feature).",
        "operationId": "getCustomerBalance",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The unique identifier of the customer",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved customer's cash balance",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "id": "balance_001",
                    "customerId": "customer_789",
                    "amount": 5000,
                    "currency": "ZAR",
                    "available": 5000,
                    "pending": 0,
                    "createdAt": "2025-01-15T10:30:00.000Z",
                    "updatedAt": "2025-01-15T10:30:00.000Z"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get Customer's Cash Balance",
        "tags": [
          "Customers"
        ]
      }
    },
    "/api/canary/customers/{id}/transactions": {
      "get": {
        "description": "Provides the full transaction history for a single customer's \"cash balance\" (Pay-Ins, Purchases, Transfers).",
        "operationId": "listCustomerTransactions",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The unique identifier of the customer",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved customer transactions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListCustomerTransactionsResponseDto"
                },
                "example": {
                  "data": [
                    {
                      "id": "txn_001",
                      "customerId": "customer_789",
                      "type": "credit",
                      "amount": 1000,
                      "currency": "ZAR",
                      "description": "Checkout session completed",
                      "relatedEntityId": "checkout_sess_123",
                      "relatedEntityType": "CheckoutSession",
                      "balanceAfter": 5000,
                      "createdAt": "2025-01-15T10:30:00.000Z",
                      "updatedAt": "2025-01-15T10:30:00.000Z"
                    },
                    {
                      "id": "txn_002",
                      "customerId": "customer_789",
                      "type": "purchase",
                      "amount": -50,
                      "currency": "ZAR",
                      "description": "Purchase of Airtime",
                      "relatedEntityId": "purchase_001",
                      "relatedEntityType": "Purchase",
                      "balanceAfter": 4950,
                      "createdAt": "2025-01-15T11:00:00.000Z",
                      "updatedAt": "2025-01-15T11:00:00.000Z"
                    }
                  ],
                  "pagination": {
                    "limit": 50,
                    "offset": 0,
                    "total": 25,
                    "hasMore": false
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "List Customer's Cash Transactions",
        "tags": [
          "Customers"
        ]
      }
    },
    "/api/canary/customers/{id}/payment-methods": {
      "get": {
        "description": "Shows all saved payment methods (cards, etc.) for a single customer.",
        "operationId": "listCustomerPaymentMethods",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The unique identifier of the customer",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved customer's payment methods",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "data": [
                      {
                        "id": "pm_001",
                        "customerId": "customer_789",
                        "type": "card",
                        "brand": "visa",
                        "last4": "4242",
                        "expiryMonth": 12,
                        "expiryYear": 2025,
                        "holderName": "John Doe",
                        "isDefault": true,
                        "createdAt": "2025-01-15T10:30:00.000Z",
                        "updatedAt": "2025-01-15T10:30:00.000Z"
                      }
                    ],
                    "pagination": {
                      "limit": 50,
                      "offset": 0,
                      "total": 1,
                      "hasMore": false
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "List Customer's Payment Methods",
        "tags": [
          "Customers"
        ]
      }
    },
    "/api/canary/events": {
      "get": {
        "description": "Retrieves a log of all API events for debugging and logging.",
        "operationId": "listEvents",
        "parameters": [
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "description": "Filter by end date",
            "schema": {}
          },
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "description": "Filter by start date",
            "schema": {}
          },
          {
            "name": "type",
            "required": false,
            "in": "query",
            "description": "Filter by event type",
            "schema": {}
          },
          {
            "name": "merchantId",
            "required": true,
            "in": "query",
            "description": "The ID of the merchant. This parameter is required.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Maximum number of records to return",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "description": "Number of records to skip",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved events",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListEventsResponseDto"
                },
                "example": {
                  "data": [
                    {
                      "id": "event_001",
                      "merchantId": "merchant_456",
                      "type": "checkout.session.completed",
                      "data": {
                        "sessionId": "checkout_sess_123",
                        "amount": 10000,
                        "currency": "ZAR"
                      },
                      "relatedEntityId": "checkout_sess_123",
                      "relatedEntityType": "CheckoutSession",
                      "createdAt": "2025-01-15T10:30:00.000Z"
                    }
                  ],
                  "pagination": {
                    "limit": 50,
                    "offset": 0,
                    "total": 500,
                    "hasMore": true
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "List Events",
        "tags": [
          "Events"
        ]
      }
    },
    "/api/canary/payment-intents": {
      "post": {
        "description": "Server-to-server API to charge a saved card. Used for subscriptions or recurring billing (a core gateway feature).",
        "operationId": "createPaymentIntent",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Payment intent details",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePaymentIntentDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Payment intent created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentIntentResponseDto"
                },
                "example": {
                  "id": "pi_001",
                  "merchantId": "merchant_456",
                  "customerId": "customer_789",
                  "paymentMethodId": "pm_001",
                  "amount": 5000,
                  "currency": "ZAR",
                  "description": "Subscription payment",
                  "status": "processing",
                  "metadata": {
                    "subscriptionId": "sub_123"
                  },
                  "createdAt": "2025-01-15T10:30:00.000Z",
                  "updatedAt": "2025-01-15T10:30:00.000Z"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "402": {
            "description": "Payment declined"
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create Off-Session Charge",
        "tags": [
          "Payment Intents"
        ]
      }
    },
    "/api/canary/payment-intents/{id}": {
      "get": {
        "description": "Checks the status of a specific server-to-server charge.",
        "operationId": "retrievePaymentIntent",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The unique identifier of the payment intent",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved payment intent",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "id": "pi_001",
                    "merchantId": "merchant_456",
                    "customerId": "customer_789",
                    "paymentMethodId": "pm_001",
                    "amount": 5000,
                    "currency": "ZAR",
                    "description": "Subscription payment",
                    "status": "succeeded",
                    "metadata": {
                      "subscriptionId": "sub_123"
                    },
                    "createdAt": "2025-01-15T10:30:00.000Z",
                    "updatedAt": "2025-01-15T10:30:05.000Z"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Retrieve Payment Intent",
        "tags": [
          "Payment Intents"
        ]
      }
    },
    "/api/canary/payment-links": {
      "post": {
        "description": "Creates a re-usable hosted link. Can be used for: (1) Selling a product, or (2) as a \"Pay-In\" link for a customer.",
        "operationId": "createPaymentLink",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Payment link details",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePaymentLinkDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Payment link created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentLinkResponseDto"
                },
                "example": {
                  "id": "plink_001",
                  "merchantId": "merchant_456",
                  "url": "https://pay.cashful.africa/link/plink_001",
                  "productId": "product_001",
                  "amount": 15000,
                  "currency": "ZAR",
                  "mode": "payment",
                  "active": true,
                  "successUrl": "https://example.com/success",
                  "cancelUrl": "https://example.com/cancel",
                  "metadata": {
                    "campaign": "summer_sale"
                  },
                  "createdAt": "2025-01-15T10:30:00.000Z",
                  "updatedAt": "2025-01-15T10:30:00.000Z"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create Payment Link",
        "tags": [
          "Payment Links"
        ]
      },
      "get": {
        "description": "Retrieves all payment links created by the merchant.",
        "operationId": "listPaymentLinks",
        "parameters": [
          {
            "name": "active",
            "required": false,
            "in": "query",
            "description": "Filter by active status",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "merchantId",
            "required": true,
            "in": "query",
            "description": "The ID of the merchant. This parameter is required.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Maximum number of records to return",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "description": "Number of records to skip",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved payment links",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListPaymentLinksResponseDto"
                },
                "example": {
                  "data": [
                    {
                      "id": "plink_001",
                      "merchantId": "merchant_456",
                      "url": "https://pay.cashful.africa/link/plink_001",
                      "productId": "product_001",
                      "amount": 15000,
                      "currency": "ZAR",
                      "mode": "payment",
                      "active": true,
                      "successUrl": "https://example.com/success",
                      "cancelUrl": "https://example.com/cancel",
                      "metadata": {
                        "campaign": "summer_sale"
                      },
                      "createdAt": "2025-01-15T10:30:00.000Z",
                      "updatedAt": "2025-01-15T10:30:00.000Z"
                    }
                  ],
                  "pagination": {
                    "limit": 50,
                    "offset": 0,
                    "total": 15,
                    "hasMore": false
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "List Payment Links",
        "tags": [
          "Payment Links"
        ]
      }
    },
    "/api/canary/payment-links/{id}": {
      "patch": {
        "description": "Updates a link's details, most commonly to set active: false.",
        "operationId": "updatePaymentLink",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The unique identifier of the payment link",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Payment link update details",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePaymentLinkDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payment link updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "id": "plink_001",
                    "merchantId": "merchant_456",
                    "url": "https://pay.cashful.africa/link/plink_001",
                    "productId": "product_001",
                    "amount": 15000,
                    "currency": "ZAR",
                    "mode": "payment",
                    "active": false,
                    "successUrl": "https://example.com/success",
                    "cancelUrl": "https://example.com/cancel",
                    "metadata": {
                      "campaign": "summer_sale"
                    },
                    "createdAt": "2025-01-15T10:30:00.000Z",
                    "updatedAt": "2025-01-15T11:45:00.000Z"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update Payment Link",
        "tags": [
          "Payment Links"
        ]
      }
    },
    "/api/canary/payment-methods/{id}": {
      "get": {
        "description": "Gets the non-sensitive details of a saved card (e.g., brand, last 4).",
        "operationId": "retrievePaymentMethod",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The unique identifier of the payment method",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved payment method details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentMethodResponseDto"
                },
                "example": {
                  "id": "pm_001",
                  "customerId": "customer_789",
                  "type": "card",
                  "brand": "visa",
                  "last4": "4242",
                  "expiryMonth": 12,
                  "expiryYear": 2025,
                  "isDefault": true,
                  "createdAt": "2025-01-15T10:30:00.000Z"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Retrieve Payment Method",
        "tags": [
          "Payment Methods"
        ]
      },
      "delete": {
        "description": "Detaches and deletes a saved payment method from a customer.",
        "operationId": "deletePaymentMethod",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The unique identifier of the payment method",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Payment method successfully deleted",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "id": "pm_001",
                    "deleted": true,
                    "deletedAt": "2025-01-15T10:30:00.000Z"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete Payment Method",
        "tags": [
          "Payment Methods"
        ]
      }
    },
    "/api/canary/products": {
      "post": {
        "description": "Defines a product in the merchant's catalog (e.g., \"Airtime,\" \"Data\").",
        "operationId": "createProduct",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Product details",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProductDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Product created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponseDto"
                },
                "example": {
                  "id": "product_001",
                  "merchantId": "merchant_456",
                  "name": "Airtime",
                  "description": "Mobile phone airtime",
                  "amount": 5000,
                  "currency": "ZAR",
                  "active": true,
                  "metadata": {
                    "category": "telecom",
                    "provider": "vodacom"
                  },
                  "createdAt": "2025-01-15T10:30:00.000Z",
                  "updatedAt": "2025-01-15T10:30:00.000Z"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create Product",
        "tags": [
          "Products"
        ]
      },
      "get": {
        "description": "Retrieves all products in the merchant's catalog.",
        "operationId": "listProducts",
        "parameters": [
          {
            "name": "active",
            "required": false,
            "in": "query",
            "description": "Filter by active status",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "merchantId",
            "required": true,
            "in": "query",
            "description": "The ID of the merchant. This parameter is required.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Maximum number of records to return",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "description": "Number of records to skip",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved products",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListProductsResponseDto"
                },
                "example": {
                  "data": [
                    {
                      "id": "product_001",
                      "merchantId": "merchant_456",
                      "name": "Airtime",
                      "description": "Mobile phone airtime",
                      "amount": 5000,
                      "currency": "ZAR",
                      "active": true,
                      "metadata": {
                        "category": "telecom"
                      },
                      "createdAt": "2025-01-15T10:30:00.000Z",
                      "updatedAt": "2025-01-15T10:30:00.000Z"
                    },
                    {
                      "id": "product_002",
                      "merchantId": "merchant_456",
                      "name": "Data Bundle",
                      "description": "1GB data bundle",
                      "amount": 10000,
                      "currency": "ZAR",
                      "active": true,
                      "metadata": {
                        "category": "telecom",
                        "size": "1GB"
                      },
                      "createdAt": "2025-01-14T09:20:00.000Z",
                      "updatedAt": "2025-01-14T09:20:00.000Z"
                    }
                  ],
                  "pagination": {
                    "limit": 50,
                    "offset": 0,
                    "total": 25,
                    "hasMore": false
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "List Products",
        "tags": [
          "Products"
        ]
      }
    },
    "/api/canary/products/{id}": {
      "patch": {
        "description": "Updates a product's name, description, or metadata.",
        "operationId": "updateProduct",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The unique identifier of the product",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Product update details",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProductDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Product updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "id": "product_001",
                    "merchantId": "merchant_456",
                    "name": "Airtime",
                    "description": "Mobile phone airtime",
                    "amount": 5000,
                    "currency": "ZAR",
                    "active": true,
                    "metadata": {
                      "category": "telecom",
                      "provider": "vodacom"
                    },
                    "createdAt": "2025-01-15T10:30:00.000Z",
                    "updatedAt": "2025-01-15T10:30:00.000Z"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update Product",
        "tags": [
          "Products"
        ]
      }
    },
    "/api/canary/payouts": {
      "post": {
        "description": "Allows the merchant to move funds from their MerchantBalance (their earnings) to their external bank account.",
        "operationId": "createPayout",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Payout details",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePayoutDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Payout created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PayoutResponseDto"
                },
                "example": {
                  "id": "payout_001",
                  "merchantId": "merchant_456",
                  "amount": 10000,
                  "currency": "ZAR",
                  "status": "pending",
                  "bankAccount": "****5678",
                  "description": "Weekly payout",
                  "metadata": {},
                  "createdAt": "2025-01-15T10:30:00.000Z",
                  "updatedAt": "2025-01-15T10:30:00.000Z"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "402": {
            "description": "Insufficient merchant balance"
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create Payout",
        "tags": [
          "Payouts"
        ]
      },
      "get": {
        "description": "Retrieves a list of all historical and pending payouts for the merchant.",
        "operationId": "listPayouts",
        "parameters": [
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "Filter by status",
            "schema": {}
          },
          {
            "name": "merchantId",
            "required": true,
            "in": "query",
            "description": "The ID of the merchant. This parameter is required.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Maximum number of records to return",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "description": "Number of records to skip",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved payouts",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListPayoutsResponseDto"
                },
                "example": {
                  "data": [
                    {
                      "id": "payout_001",
                      "merchantId": "merchant_456",
                      "amount": 10000,
                      "currency": "ZAR",
                      "status": "pending",
                      "bankAccount": "****5678",
                      "description": "Weekly payout",
                      "metadata": {},
                      "createdAt": "2025-01-15T10:30:00.000Z",
                      "updatedAt": "2025-01-15T10:30:00.000Z"
                    },
                    {
                      "id": "payout_001",
                      "merchantId": "merchant_456",
                      "amount": 10000,
                      "currency": "ZAR",
                      "status": "completed",
                      "bankAccount": "****5678",
                      "description": "Weekly payout",
                      "metadata": {},
                      "createdAt": "2025-01-15T10:30:00.000Z",
                      "updatedAt": "2025-01-15T10:30:00.000Z"
                    }
                  ],
                  "pagination": {
                    "limit": 50,
                    "offset": 0,
                    "total": 25,
                    "hasMore": true
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "List Payouts",
        "tags": [
          "Payouts"
        ]
      }
    },
    "/api/canary/transfers": {
      "post": {
        "description": "(Wallet-Enabling) Moves funds from one CustomerBalance to another CustomerBalance. This is the P2P feature.",
        "operationId": "createTransfer",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Transfer details",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTransferDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Transfer created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransferResponseDto"
                },
                "example": {
                  "id": "transfer_001",
                  "merchantId": "merchant_456",
                  "fromCustomerId": "customer_123",
                  "toCustomerId": "customer_789",
                  "amount": 1000,
                  "currency": "ZAR",
                  "status": "completed",
                  "description": "Payment for services",
                  "createdAt": "2025-01-15T10:30:00.000Z",
                  "updatedAt": "2025-01-15T10:30:00.000Z"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "402": {
            "description": "Insufficient sender balance"
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create P2P Transfer",
        "tags": [
          "Transfers"
        ]
      }
    },
    "/api/canary/purchases": {
      "post": {
        "description": "(Wallet-Enabling) Spends a product using the CustomerBalance as the source. Atomically debits the CustomerBalance and credits the MerchantBalance.",
        "operationId": "createPurchase",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Purchase details",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePurchaseDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Purchase created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PurchaseResponseDto"
                },
                "example": {
                  "id": "purchase_001",
                  "merchantId": "merchant_456",
                  "customerId": "customer_789",
                  "productId": "product_001",
                  "amount": 5000,
                  "currency": "ZAR",
                  "status": "completed",
                  "customerBalanceBefore": 10000,
                  "customerBalanceAfter": 5000,
                  "createdAt": "2025-01-15T10:30:00.000Z",
                  "updatedAt": "2025-01-15T10:30:00.000Z"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "402": {
            "description": "Insufficient customer balance"
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Buy with Cash Balance",
        "tags": [
          "Purchases"
        ]
      }
    },
    "/api/canary/webhook-endpoints": {
      "post": {
        "description": "Registers a URL to receive real-time events (e.g., checkout.session.completed, purchase.succeeded).",
        "operationId": "createWebhookEndpoint",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Webhook endpoint details",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateWebhookEndpointDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Webhook endpoint created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookEndpointResponseDto"
                },
                "example": {
                  "id": "webhook_001",
                  "merchantId": "merchant_456",
                  "url": "https://example.com/webhooks",
                  "events": [
                    "checkout.session.completed",
                    "purchase.succeeded",
                    "transfer.completed"
                  ],
                  "active": true,
                  "metadata": {},
                  "createdAt": "2025-01-15T10:30:00.000Z",
                  "updatedAt": "2025-01-15T10:30:00.000Z"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create Webhook Endpoint",
        "tags": [
          "Webhooks"
        ]
      },
      "get": {
        "description": "Lists all configured webhook endpoints.",
        "operationId": "listWebhookEndpoints",
        "parameters": [
          {
            "name": "merchantId",
            "required": true,
            "in": "query",
            "description": "The ID of the merchant. This parameter is required.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Maximum number of records to return",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "description": "Number of records to skip",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved webhook endpoints",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListWebhookEndpointsResponseDto"
                },
                "example": {
                  "data": [
                    {
                      "id": "webhook_001",
                      "merchantId": "merchant_456",
                      "url": "https://example.com/webhooks",
                      "events": [
                        "checkout.session.completed",
                        "purchase.succeeded",
                        "transfer.completed"
                      ],
                      "active": true,
                      "metadata": {},
                      "createdAt": "2025-01-15T10:30:00.000Z",
                      "updatedAt": "2025-01-15T10:30:00.000Z"
                    }
                  ],
                  "pagination": {
                    "limit": 50,
                    "offset": 0,
                    "total": 3,
                    "hasMore": false
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "List Webhook Endpoints",
        "tags": [
          "Webhooks"
        ]
      }
    },
    "/api/canary/webhook-endpoints/{id}": {
      "delete": {
        "description": "Stops sending events to a specific URL.",
        "operationId": "deleteWebhookEndpoint",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The unique identifier of the webhook endpoint",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Webhook endpoint successfully deleted",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "id": "webhook_001",
                    "deleted": true,
                    "deletedAt": "2025-01-15T10:30:00.000Z"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete Webhook Endpoint",
        "tags": [
          "Webhooks"
        ]
      }
    }
  },
  "info": {
    "title": "Cashful API",
    "description": "Developer documentation for the Cashful platform.",
    "version": "1.0.0",
    "contact": {
      "name": "Support",
      "url": "https://cashful.africa",
      "email": "support@cashful.africa"
    }
  },
  "tags": [],
  "servers": [
    {
      "url": "http://localhost:3000",
      "description": "Development"
    },
    {
      "url": "https://api.cashful.africa",
      "description": "Production"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearer": {
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "type": "http"
      }
    },
    "schemas": {
      "SignUpDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the user",
            "example": "John Doe"
          },
          "email": {
            "type": "string",
            "description": "The email address of the user",
            "example": "john.doe@example.com"
          },
          "password": {
            "type": "string",
            "description": "The password for the user account",
            "example": "StrongPassword123!"
          },
          "image": {
            "type": "string",
            "description": "Optional URL to the user's profile image",
            "example": "https://example.com/avatar.jpg"
          },
          "callbackURL": {
            "type": "string",
            "description": "Optional callback URL after successful sign-up",
            "example": "https://example.com/auth/callback"
          },
          "rememberMe": {
            "type": "boolean",
            "description": "Optional flag to indicate if the user should be remembered",
            "example": true
          }
        },
        "required": [
          "name",
          "email",
          "password"
        ]
      },
      "ErrorResponseDto": {
        "type": "object",
        "properties": {
          "statusCode": {
            "type": "number",
            "example": 400,
            "description": "HTTP status code"
          },
          "message": {
            "example": [
              "Invalid input data"
            ],
            "description": "Array of error messages",
            "oneOf": [
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          },
          "error": {
            "type": "string",
            "example": "Bad Request",
            "description": "Error type"
          }
        },
        "required": [
          "statusCode",
          "message",
          "error"
        ]
      },
      "SignInDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "The email address of the user",
            "example": "john.doe@example.com"
          },
          "password": {
            "type": "string",
            "description": "The password for the user account",
            "example": "StrongPassword123!"
          }
        },
        "required": [
          "email",
          "password"
        ]
      },
      "SessionDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "expiresAt": {
            "format": "date-time",
            "type": "string"
          },
          "ipAddress": {
            "type": "string"
          },
          "userAgent": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "userId",
          "expiresAt"
        ]
      },
      "SessionUserDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "emailVerified": {
            "type": "boolean"
          },
          "name": {
            "type": "string"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "email",
          "emailVerified",
          "name",
          "createdAt",
          "updatedAt"
        ]
      },
      "GetSessionResponseDto": {
        "type": "object",
        "properties": {
          "session": {
            "$ref": "#/components/schemas/SessionDto"
          },
          "user": {
            "$ref": "#/components/schemas/SessionUserDto"
          }
        },
        "required": [
          "session",
          "user"
        ]
      },
      "ForgotPasswordDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "The email address of the user",
            "example": "john.doe@example.com"
          }
        },
        "required": [
          "email"
        ]
      },
      "ResetPasswordDto": {
        "type": "object",
        "properties": {
          "password": {
            "type": "string",
            "description": "The new password",
            "example": "NewStrongPassword123!"
          },
          "token": {
            "type": "string",
            "description": "The token received in the email",
            "example": "token_12345"
          }
        },
        "required": [
          "password",
          "token"
        ]
      },
      "CreateOrganizationDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the organization",
            "example": "Acme Corp"
          },
          "slug": {
            "type": "string",
            "description": "The slug of the organization",
            "example": "acme-corp"
          },
          "logo": {
            "type": "string",
            "description": "The logo of the organization",
            "example": "https://example.com/logo.png"
          },
          "metadata": {
            "type": "object",
            "description": "Metadata for the organization",
            "example": {
              "plan": "pro"
            }
          }
        },
        "required": [
          "name",
          "slug"
        ]
      },
      "SetActiveOrganizationDto": {
        "type": "object",
        "properties": {
          "organizationId": {
            "type": "string",
            "description": "The ID of the organization to set as active",
            "example": "org_12345"
          }
        },
        "required": [
          "organizationId"
        ]
      },
      "UpdateOrganizationDto": {
        "type": "object",
        "properties": {
          "organizationId": {
            "type": "string",
            "description": "The ID of the organization to update",
            "example": "org_12345"
          },
          "data": {
            "type": "object",
            "description": "Data to update"
          }
        },
        "required": [
          "organizationId",
          "data"
        ]
      },
      "DeleteOrganizationDto": {
        "type": "object",
        "properties": {
          "organizationId": {
            "type": "string",
            "description": "The ID of the organization to delete",
            "example": "org_12345"
          }
        },
        "required": [
          "organizationId"
        ]
      },
      "InviteMemberDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "The email of the user to invite",
            "example": "jane.doe@example.com"
          },
          "role": {
            "type": "string",
            "description": "The role to assign to the user",
            "example": "member"
          },
          "organizationId": {
            "type": "string",
            "description": "The ID of the organization",
            "example": "org_12345"
          }
        },
        "required": [
          "email",
          "role",
          "organizationId"
        ]
      },
      "AcceptInvitationDto": {
        "type": "object",
        "properties": {
          "invitationId": {
            "type": "string",
            "description": "The ID of the invitation to accept",
            "example": "inv_12345"
          }
        },
        "required": [
          "invitationId"
        ]
      },
      "CancelInvitationDto": {
        "type": "object",
        "properties": {
          "invitationId": {
            "type": "string",
            "description": "The ID of the invitation to cancel",
            "example": "inv_12345"
          }
        },
        "required": [
          "invitationId"
        ]
      },
      "RejectInvitationDto": {
        "type": "object",
        "properties": {
          "invitationId": {
            "type": "string",
            "description": "The ID of the invitation to reject",
            "example": "inv_12345"
          }
        },
        "required": [
          "invitationId"
        ]
      },
      "RemoveMemberDto": {
        "type": "object",
        "properties": {
          "memberId": {
            "type": "string",
            "description": "The ID of the member to remove",
            "example": "mem_12345"
          },
          "organizationId": {
            "type": "string",
            "description": "The ID of the organization",
            "example": "org_12345"
          }
        },
        "required": [
          "memberId",
          "organizationId"
        ]
      },
      "UpdateMemberRoleDto": {
        "type": "object",
        "properties": {
          "memberId": {
            "type": "string",
            "description": "The ID of the member to update",
            "example": "mem_12345"
          },
          "role": {
            "type": "string",
            "description": "The new role",
            "example": "admin"
          },
          "organizationId": {
            "type": "string",
            "description": "The ID of the organization",
            "example": "org_12345"
          }
        },
        "required": [
          "memberId",
          "role",
          "organizationId"
        ]
      },
      "CreateApiKeyDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the API key",
            "example": "My API Key"
          },
          "expiresIn": {
            "type": "number",
            "description": "Expiration time in seconds",
            "example": 3600
          },
          "prefix": {
            "type": "string",
            "description": "Prefix for the API key",
            "example": "pk_live_"
          },
          "metadata": {
            "type": "object",
            "description": "Metadata for the API key",
            "example": {
              "env": "production"
            }
          }
        }
      },
      "UpdateApiKeyDto": {
        "type": "object",
        "properties": {
          "keyId": {
            "type": "string",
            "description": "The ID of the API key to update",
            "example": "key_12345"
          },
          "name": {
            "type": "string",
            "description": "The new name of the API key",
            "example": "My Updated API Key"
          },
          "enabled": {
            "type": "boolean",
            "description": "Whether the API key is enabled",
            "example": true
          },
          "metadata": {
            "type": "object",
            "description": "Metadata for the API key",
            "example": {
              "env": "production"
            }
          }
        },
        "required": [
          "keyId"
        ]
      },
      "DeleteApiKeyDto": {
        "type": "object",
        "properties": {
          "keyId": {
            "type": "string",
            "description": "The ID of the API key to delete",
            "example": "key_12345"
          }
        },
        "required": [
          "keyId"
        ]
      },
      "VerifyApiKeyDto": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string",
            "description": "The API key to verify",
            "example": "pk_live_12345..."
          }
        },
        "required": [
          "key"
        ]
      },
      "BanUserDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "description": "The ID of the user to ban",
            "example": "user_12345"
          },
          "banReason": {
            "type": "string",
            "description": "The reason for the ban",
            "example": "Violation of terms"
          },
          "banExpiresIn": {
            "type": "number",
            "description": "Ban duration in seconds",
            "example": 3600
          }
        },
        "required": [
          "userId"
        ]
      },
      "UnbanUserDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "description": "The ID of the user to unban",
            "example": "user_12345"
          }
        },
        "required": [
          "userId"
        ]
      },
      "SetRoleDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "description": "The ID of the user",
            "example": "user_12345"
          },
          "role": {
            "type": "string",
            "description": "The role to assign",
            "example": "admin"
          }
        },
        "required": [
          "userId",
          "role"
        ]
      },
      "ImpersonateUserDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "description": "The ID of the user to impersonate",
            "example": "user_12345"
          }
        },
        "required": [
          "userId"
        ]
      },
      "StopImpersonatingDto": {
        "type": "object",
        "properties": {}
      },
      "LineItemDto": {
        "type": "object",
        "properties": {
          "productId": {
            "type": "string",
            "description": "The unique identifier of the product"
          },
          "quantity": {
            "type": "number",
            "description": "The quantity of the product"
          },
          "amount": {
            "type": "number",
            "description": "The amount for this line item in the smallest currency unit"
          },
          "currency": {
            "type": "string",
            "description": "The three-letter ISO 4217 currency code"
          }
        },
        "required": [
          "amount",
          "currency"
        ]
      },
      "CreateCheckoutSessionDto": {
        "type": "object",
        "properties": {
          "merchantId": {
            "type": "string",
            "description": "The ID of the merchant whose balance is being requested. If omitted, defaults to the authenticated merchant."
          },
          "customerId": {
            "type": "string",
            "description": "The unique identifier of the customer"
          },
          "productId": {
            "type": "string",
            "description": "The unique identifier of the product"
          },
          "successUrl": {
            "type": "string",
            "description": "The URL to redirect to on successful payment"
          },
          "cancelUrl": {
            "type": "string",
            "description": "The URL to redirect to if customer cancels"
          },
          "lineItems": {
            "description": "Array of line items for the checkout",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LineItemDto"
            }
          },
          "totalAmount": {
            "type": "number",
            "description": "The total amount in the smallest currency unit"
          },
          "currency": {
            "type": "string",
            "description": "The three-letter ISO 4217 currency code"
          },
          "mode": {
            "type": "string",
            "description": "The checkout mode (e.g., 'payment')"
          },
          "metadata": {
            "type": "object",
            "description": "Optional custom metadata",
            "example": {
              "orderId": "ORD-12345",
              "source": "web"
            },
            "additionalProperties": true
          }
        },
        "required": [
          "successUrl",
          "cancelUrl",
          "currency",
          "metadata"
        ]
      },
      "CheckoutSessionResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string"
          },
          "merchantId": {
            "type": "string"
          },
          "customerId": {
            "type": "string"
          },
          "sessionUrl": {
            "type": "string"
          },
          "successUrl": {
            "type": "string"
          },
          "cancelUrl": {
            "type": "string"
          },
          "lineItems": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LineItemDto"
            }
          },
          "totalAmount": {
            "type": "number"
          },
          "currency": {
            "type": "string"
          },
          "mode": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "expiresAt": {
            "format": "date-time",
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "example": {
              "orderId": "ORD-12345"
            },
            "additionalProperties": true
          }
        },
        "required": [
          "id",
          "createdAt",
          "updatedAt",
          "merchantId",
          "sessionUrl",
          "successUrl",
          "cancelUrl",
          "currency",
          "status",
          "metadata"
        ]
      },
      "MerchantBalanceResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string"
          },
          "merchantId": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "currency": {
            "type": "string"
          },
          "available": {
            "type": "number"
          },
          "pending": {
            "type": "number"
          }
        },
        "required": [
          "id",
          "createdAt",
          "updatedAt",
          "merchantId",
          "amount",
          "currency",
          "available",
          "pending"
        ]
      },
      "BalanceTransactionDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string"
          },
          "merchantId": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "currency": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "relatedEntityId": {
            "type": "string"
          },
          "relatedEntityType": {
            "type": "string"
          },
          "balanceAfter": {
            "type": "number"
          }
        },
        "required": [
          "id",
          "createdAt",
          "updatedAt",
          "merchantId",
          "type",
          "amount",
          "currency",
          "description",
          "balanceAfter"
        ]
      },
      "PaginationResponseDto": {
        "type": "object",
        "properties": {
          "limit": {
            "type": "number",
            "description": "Maximum number of items returned in this response",
            "example": 50
          },
          "offset": {
            "type": "number",
            "description": "Number of items skipped before this response",
            "example": 0
          },
          "total": {
            "type": "number",
            "description": "Total number of items available",
            "example": 150
          },
          "hasMore": {
            "type": "boolean",
            "description": "Whether there are more items available beyond this response",
            "example": true
          }
        },
        "required": [
          "limit",
          "offset",
          "total",
          "hasMore"
        ]
      },
      "BalanceHistoryResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BalanceTransactionDto"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationResponseDto"
          }
        },
        "required": [
          "data",
          "pagination"
        ]
      },
      "CreateBalanceDto": {
        "type": "object",
        "properties": {
          "merchantId": {
            "type": "string",
            "description": "The ID of the merchant",
            "example": "merchant_123"
          },
          "amount": {
            "type": "number",
            "description": "The initial balance amount",
            "example": 1000
          },
          "currency": {
            "type": "string",
            "description": "The currency for the balance",
            "example": "ZAR"
          }
        },
        "required": [
          "merchantId",
          "amount",
          "currency"
        ]
      },
      "CreateCustomerDto": {
        "type": "object",
        "properties": {
          "merchantId": {
            "type": "string",
            "description": "The ID of the merchant whose balance is being requested. If omitted, defaults to the authenticated merchant."
          },
          "email": {
            "type": "string",
            "description": "The email address of the customer"
          },
          "name": {
            "type": "string",
            "description": "The full name of the customer"
          },
          "metadata": {
            "type": "object",
            "description": "Optional custom metadata",
            "example": {
              "customField": "value",
              "orderId": "12345"
            },
            "additionalProperties": true
          }
        },
        "required": [
          "email",
          "metadata"
        ]
      },
      "CustomerResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string"
          },
          "merchantId": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "example": {
              "customField": "value"
            },
            "additionalProperties": true
          }
        },
        "required": [
          "id",
          "createdAt",
          "updatedAt",
          "merchantId",
          "email",
          "metadata"
        ]
      },
      "ListCustomersResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CustomerResponseDto"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationResponseDto"
          }
        },
        "required": [
          "data",
          "pagination"
        ]
      },
      "UpdateCustomerDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "The email address of the customer"
          },
          "name": {
            "type": "string",
            "description": "The full name of the customer"
          },
          "metadata": {
            "type": "object",
            "description": "Optional custom metadata",
            "example": {
              "customField": "value",
              "orderId": "12345"
            },
            "additionalProperties": true
          }
        },
        "required": [
          "metadata"
        ]
      },
      "CustomerTransactionDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string"
          },
          "customerId": {
            "type": "string"
          },
          "merchantId": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "currency": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "relatedEntityId": {
            "type": "string"
          },
          "relatedEntityType": {
            "type": "string"
          },
          "balanceAfter": {
            "type": "number"
          }
        },
        "required": [
          "id",
          "createdAt",
          "updatedAt",
          "customerId",
          "type",
          "amount",
          "currency",
          "description",
          "balanceAfter"
        ]
      },
      "ListCustomerTransactionsResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CustomerTransactionDto"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationResponseDto"
          }
        },
        "required": [
          "data",
          "pagination"
        ]
      },
      "EventResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "merchantId": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "data": {
            "type": "object",
            "description": "Event data payload",
            "example": {
              "key": "value"
            }
          },
          "relatedEntityId": {
            "type": "string"
          },
          "relatedEntityType": {
            "type": "string"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "merchantId",
          "type",
          "data",
          "createdAt"
        ]
      },
      "ListEventsResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EventResponseDto"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationResponseDto"
          }
        },
        "required": [
          "data",
          "pagination"
        ]
      },
      "CreatePaymentIntentDto": {
        "type": "object",
        "properties": {
          "merchantId": {
            "type": "string",
            "description": "The ID of the merchant whose balance is being requested. If omitted, defaults to the authenticated merchant."
          },
          "customerId": {
            "type": "string",
            "description": "The unique identifier of the customer"
          },
          "paymentMethodId": {
            "type": "string",
            "description": "The unique identifier of the payment method"
          },
          "amount": {
            "type": "number",
            "description": "The amount to charge in the smallest currency unit"
          },
          "currency": {
            "type": "string",
            "description": "The three-letter ISO 4217 currency code"
          },
          "description": {
            "type": "string",
            "description": "Optional description for the payment"
          },
          "metadata": {
            "type": "object",
            "description": "Optional custom metadata",
            "example": {
              "orderId": "12345",
              "customField": "value"
            },
            "additionalProperties": true
          }
        },
        "required": [
          "customerId",
          "paymentMethodId",
          "amount",
          "currency",
          "metadata"
        ]
      },
      "PaymentIntentResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "merchantId": {
            "type": "string"
          },
          "customerId": {
            "type": "string"
          },
          "paymentMethodId": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "currency": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "example": {
              "orderId": "12345"
            },
            "additionalProperties": true
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "merchantId",
          "customerId",
          "paymentMethodId",
          "amount",
          "currency",
          "status",
          "metadata",
          "createdAt",
          "updatedAt"
        ]
      },
      "CreatePaymentLinkDto": {
        "type": "object",
        "properties": {
          "merchantId": {
            "type": "string",
            "description": "The ID of the merchant whose balance is being requested. If omitted, defaults to the authenticated merchant."
          },
          "productId": {
            "type": "string",
            "description": "The unique identifier of the product"
          },
          "customerId": {
            "type": "string",
            "description": "The unique identifier of the customer"
          },
          "amount": {
            "type": "number",
            "description": "The amount in the smallest currency unit"
          },
          "currency": {
            "type": "string",
            "description": "The three-letter ISO 4217 currency code"
          },
          "mode": {
            "type": "string",
            "description": "The payment mode (e.g., 'payment' or 'subscription')"
          },
          "successUrl": {
            "type": "string",
            "description": "The URL to redirect to on successful payment"
          },
          "cancelUrl": {
            "type": "string",
            "description": "The URL to redirect to if customer cancels"
          },
          "metadata": {
            "type": "object",
            "description": "Optional custom metadata",
            "example": {
              "orderId": "12345",
              "customField": "value"
            },
            "additionalProperties": true
          }
        },
        "required": [
          "currency",
          "mode",
          "successUrl",
          "cancelUrl",
          "metadata"
        ]
      },
      "PaymentLinkResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "merchantId": {
            "type": "string"
          },
          "url": {
            "type": "string"
          },
          "productId": {
            "type": "string"
          },
          "customerId": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "currency": {
            "type": "string"
          },
          "mode": {
            "type": "string"
          },
          "active": {
            "type": "boolean"
          },
          "successUrl": {
            "type": "string"
          },
          "cancelUrl": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "example": {
              "customField": "value"
            },
            "additionalProperties": true
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "merchantId",
          "url",
          "currency",
          "mode",
          "active",
          "successUrl",
          "cancelUrl",
          "metadata",
          "createdAt",
          "updatedAt"
        ]
      },
      "ListPaymentLinksResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PaymentLinkResponseDto"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationResponseDto"
          }
        },
        "required": [
          "data",
          "pagination"
        ]
      },
      "UpdatePaymentLinkDto": {
        "type": "object",
        "properties": {
          "active": {
            "type": "boolean",
            "description": "Whether the payment link is active"
          },
          "amount": {
            "type": "number"
          },
          "successUrl": {
            "type": "string",
            "description": "The URL to redirect to on successful payment"
          },
          "cancelUrl": {
            "type": "string",
            "description": "The URL to redirect to if customer cancels"
          },
          "metadata": {
            "type": "object",
            "description": "Optional custom metadata",
            "example": {
              "orderId": "12345"
            },
            "additionalProperties": true
          }
        },
        "required": [
          "metadata"
        ]
      },
      "PaymentMethodResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "customerId": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "brand": {
            "type": "string"
          },
          "last4": {
            "type": "string"
          },
          "expiryMonth": {
            "type": "number"
          },
          "expiryYear": {
            "type": "number"
          },
          "isDefault": {
            "type": "boolean"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "customerId",
          "type",
          "isDefault",
          "createdAt"
        ]
      },
      "CreatePaymentMethodDto": {
        "type": "object",
        "properties": {
          "customerId": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "isDefault": {
            "type": "boolean"
          },
          "cardNumber": {
            "type": "string"
          },
          "brand": {
            "type": "string"
          },
          "last4": {
            "type": "string"
          },
          "expiryMonth": {
            "type": "number"
          },
          "expiryYear": {
            "type": "number"
          }
        },
        "required": [
          "customerId",
          "type"
        ]
      },
      "CreateProductDto": {
        "type": "object",
        "properties": {
          "merchantId": {
            "type": "string",
            "description": "The ID of the merchant whose balance is being requested. If omitted, defaults to the authenticated merchant."
          },
          "name": {
            "type": "string",
            "description": "The name of the product"
          },
          "description": {
            "type": "string",
            "description": "A description of the product"
          },
          "amount": {
            "type": "number",
            "description": "The price of the product in the smallest currency unit"
          },
          "currency": {
            "type": "string",
            "description": "The three-letter ISO 4217 currency code"
          },
          "active": {
            "type": "boolean",
            "description": "Whether the product is active"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": true,
            "description": "Optional custom metadata",
            "example": {
              "sku": "PROD-001",
              "category": "electronics"
            }
          }
        },
        "required": [
          "name",
          "amount",
          "currency",
          "metadata"
        ]
      },
      "ProductResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string"
          },
          "merchantId": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "currency": {
            "type": "string"
          },
          "active": {
            "type": "boolean"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": true,
            "example": {
              "sku": "PROD-001"
            }
          }
        },
        "required": [
          "id",
          "createdAt",
          "updatedAt",
          "merchantId",
          "name",
          "amount",
          "currency",
          "active",
          "metadata"
        ]
      },
      "ListProductsResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProductResponseDto"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationResponseDto"
          }
        },
        "required": [
          "data",
          "pagination"
        ]
      },
      "UpdateProductDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the product"
          },
          "description": {
            "type": "string",
            "description": "A description of the product"
          },
          "amount": {
            "type": "number",
            "description": "The price of the product in the smallest currency unit"
          },
          "active": {
            "type": "boolean",
            "description": "Whether the product is active"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": true,
            "description": "Optional custom metadata",
            "example": {
              "sku": "PROD-001"
            }
          }
        },
        "required": [
          "metadata"
        ]
      },
      "CreatePayoutDto": {
        "type": "object",
        "properties": {
          "merchantId": {
            "type": "string",
            "description": "The ID of the merchant whose balance is being requested. If omitted, defaults to the authenticated merchant."
          },
          "amount": {
            "type": "number"
          },
          "currency": {
            "type": "string"
          },
          "bankAccount": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "example": {
              "orderId": "12345"
            },
            "additionalProperties": true
          }
        },
        "required": [
          "amount",
          "currency",
          "metadata"
        ]
      },
      "PayoutResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "merchantId": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "currency": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "bankAccount": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "example": {
              "orderId": "12345"
            },
            "additionalProperties": true
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "merchantId",
          "amount",
          "currency",
          "status",
          "metadata",
          "createdAt",
          "updatedAt"
        ]
      },
      "ListPayoutsResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PayoutResponseDto"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationResponseDto"
          }
        },
        "required": [
          "data",
          "pagination"
        ]
      },
      "UpdatePayoutDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "example": {
              "note": "Updated"
            },
            "additionalProperties": true
          }
        },
        "required": [
          "metadata"
        ]
      },
      "CreateTransferDto": {
        "type": "object",
        "properties": {
          "merchantId": {
            "type": "string",
            "description": "The ID of the merchant whose balance is being requested. If omitted, defaults to the authenticated merchant."
          },
          "fromCustomerId": {
            "type": "string",
            "description": "The unique identifier of the customer sending the transfer"
          },
          "toCustomerId": {
            "type": "string",
            "description": "The unique identifier of the customer receiving the transfer"
          },
          "amount": {
            "type": "number",
            "description": "The amount to transfer in the smallest currency unit"
          },
          "currency": {
            "type": "string",
            "description": "The three-letter ISO 4217 currency code"
          },
          "description": {
            "type": "string",
            "description": "Optional description for the transfer"
          }
        },
        "required": [
          "fromCustomerId",
          "toCustomerId",
          "amount",
          "currency"
        ]
      },
      "TransferResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "merchantId": {
            "type": "string"
          },
          "fromCustomerId": {
            "type": "string"
          },
          "toCustomerId": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "currency": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "merchantId",
          "fromCustomerId",
          "toCustomerId",
          "amount",
          "currency",
          "status",
          "createdAt",
          "updatedAt"
        ]
      },
      "CreatePurchaseDto": {
        "type": "object",
        "properties": {
          "merchantId": {
            "type": "string",
            "description": "The ID of the merchant whose balance is being requested. If omitted, defaults to the authenticated merchant."
          },
          "customerId": {
            "type": "string",
            "description": "The unique identifier of the customer"
          },
          "productId": {
            "type": "string",
            "description": "The unique identifier of the product"
          },
          "amount": {
            "type": "number",
            "description": "The amount in the smallest currency unit"
          },
          "currency": {
            "type": "string",
            "description": "The three-letter ISO 4217 currency code"
          },
          "quantity": {
            "type": "number",
            "description": "The quantity of items in the purchase"
          }
        },
        "required": [
          "customerId",
          "productId",
          "amount",
          "currency"
        ]
      },
      "PurchaseResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "merchantId": {
            "type": "string"
          },
          "customerId": {
            "type": "string"
          },
          "productId": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "currency": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "customerBalanceBefore": {
            "type": "number"
          },
          "customerBalanceAfter": {
            "type": "number"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "merchantId",
          "customerId",
          "amount",
          "currency",
          "status",
          "createdAt",
          "updatedAt"
        ]
      },
      "CreateWebhookEndpointDto": {
        "type": "object",
        "properties": {
          "merchantId": {
            "type": "string",
            "description": "The ID of the merchant whose balance is being requested. If omitted, defaults to the authenticated merchant."
          },
          "url": {
            "type": "string",
            "description": "The URL where webhook events will be sent"
          },
          "events": {
            "description": "Array of event types to listen for",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "metadata": {
            "type": "object",
            "additionalProperties": true,
            "description": "Optional custom metadata",
            "example": {
              "environment": "production"
            }
          }
        },
        "required": [
          "url",
          "events",
          "metadata"
        ]
      },
      "WebhookEndpointResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "merchantId": {
            "type": "string"
          },
          "url": {
            "type": "string"
          },
          "events": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "active": {
            "type": "boolean"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": true,
            "example": {
              "environment": "production"
            }
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "merchantId",
          "url",
          "events",
          "active",
          "metadata",
          "createdAt",
          "updatedAt"
        ]
      },
      "ListWebhookEndpointsResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WebhookEndpointResponseDto"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationResponseDto"
          }
        },
        "required": [
          "data",
          "pagination"
        ]
      },
      "UpdateWebhookEndpointDto": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "The URL where webhook events will be sent"
          },
          "events": {
            "description": "Array of event types to listen for",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "active": {
            "type": "boolean",
            "description": "Whether the webhook endpoint is active"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": true,
            "description": "Optional custom metadata",
            "example": {
              "environment": "staging"
            }
          }
        },
        "required": [
          "metadata"
        ]
      },
      "BaseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "createdAt",
          "updatedAt"
        ]
      }
    }
  }
}
